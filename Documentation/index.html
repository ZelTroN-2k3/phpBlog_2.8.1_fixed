<!doctype html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <title>phpBlog v2.9.1 ‚Äì Professional CMS Documentation</title>

    <link rel="stylesheet" href="assets/css/style.css" media="all">
    <style>
        html {
            background-color: #FFFFFF;
            color: #383838;
        }
        
        ::-moz-selection {
            background: #444444;
            color: #DDDDDD;
        }
        
        ::selection {
            background: #444444;
            color: #DDDDDD;
        }
        
        #documenter_sidebar #documenter_logo {
            background-image: url(assets/img/logo.jpg);
        }
        
        a {
            color: #0000FF;
        }
        
        .btn {
            border-radius: 3px;
        }
        
        .btn-primary {
            background-image: -moz-linear-gradient(top, #0088CC, #0044CC);
            background-image: -ms-linear-gradient(top, #0088CC, #0044CC);
            background-image: -webkit-gradient(linear, 0 0, 0 0088CC%, from(#DDDDDD), to(#0044CC));
            background-image: -webkit-linear-gradient(top, #0088CC, #0044CC);
            background-image: -o-linear-gradient(top, #0088CC, #0044CC);
            background-image: linear-gradient(top, #0088CC, #0044CC);
            filter: progid: DXImageTransform.Microsoft.gradient(startColorstr='#0088CC', endColorstr='#0044CC', GradientType=0);
            border-color: #0044CC #0044CC #bfbfbf;
            color: #FFFFFF;
        }
        
        .btn-primary:hover,
        .btn-primary:active,
        .btn-primary.active,
        .btn-primary.disabled,
        .btn-primary[disabled] {
            border-color: #0088CC #0088CC #bfbfbf;
            background-color: #0044CC;
        }
        
        hr {
            border-top: 1px solid #EBEBEB;
            border-bottom: 1px solid #FFFFFF;
        }
        
        #documenter_sidebar,
        #documenter_sidebar ul a {
            background-color: #DDDDDD;
            color: #222222;
        }
        
        #documenter_sidebar ul a {
            -webkit-text-shadow: 1px 1px 0px #EEEEEE;
            -moz-text-shadow: 1px 1px 0px #EEEEEE;
            text-shadow: 1px 1px 0px #EEEEEE;
        }
        
        #documenter_sidebar ul {
            border-top: 1px solid #AAAAAA;
        }
        
        #documenter_sidebar ul a {
            border-top: 1px solid #EEEEEE;
            border-bottom: 1px solid #AAAAAA;
            color: #444444;
        }
        
        #documenter_sidebar ul a:hover {
            background: #444444;
            color: #DDDDDD;
            border-top: 1px solid #444444;
        }
        
        #documenter_sidebar ul a.current {
            background: #444444;
            color: #DDDDDD;
            border-top: 1px solid #444444;
        }
        
        code {
            background: #f4f4f4;
            border: 1px solid #ddd;
            border-left: 3px solid #0088CC;
            color: #666;
            page-break-inside: avoid;
            font-family: monospace;
            font-size: 15px;
            line-height: 1.6;
            margin-bottom: 1.6em;
            max-width: 100%;
            overflow: auto;
            padding: 1em 1.5em;
            display: block;
            word-wrap: break-word;
        }
    </style>
</head>

<body class="documenter-project-project-security">
    <div id="documenter_sidebar">
        <a href="#documenter_cover" id="documenter_logo"></a>
        <ul id="documenter_nav">
            <li><a class="current" href="#documenter_cover">phpBlog v2.9.1</a></li>

            <li><a href="#description" title="Description">Description</a></li>
            <li><a href="#features" title="Features">Features</a></li>
            <li><a href="#requirements" title="Requirements">Requirements</a></li>
            <li><a href="#installation" title="Installation">Installation</a></li>
            <li><a href="#rss_cron" title="Automated RSS">Automated RSS (Cron)</a></li>
            <li><a href="#updates" title="Update Instructions">Update Instructions</a></li>
            <li><a href="#recaptcha" title="ReCaptcha v2">ReCaptcha v2</a></li>
			<li><a href="#credits" title="Credits">Credits</a></li>

        </ul>
    </div>
    <div id="documenter_content">
        <section id="documenter_cover">
            <h1>phpBlog v2.9.1</h1>
            <h2>Professional Content Management System</h2>
            <hr>
            <p>phpBlog is a modern, secure, and feature-rich CMS. Version 2.9 brings enterprise-level features like Mega Menu, RSS Auto-Blogging, Popup Manager, and advanced security hardening.</p>
		</section>

        <section id="description">
            <div class="page-header">
                <h3>Description</h3>
                <hr class="notop">
            </div>
            <p>phpBlog allows you to create blogs, news portals, or magazines easily. It is built with performance and security in mind.</p>
            
            <p><strong>New in v2.9:</strong> The system now includes a responsive Mega Menu, an intelligent RSS Feed Importer with AI image detection, a marketing Popup Manager, and a robust Maintenance Mode.</p>
        </section>
        
        <section id="features">
            <div class="page-header">
                <h3>Features</h3>
                <hr class="notop">
            </div>
            <ul>
                <li><strong>üé® Mega Menu (New):</strong> A stunning, responsive navigation menu with 3 columns (Explore, Categories, Recent Posts with thumbnails).</li>
                <li><strong>üì¢ RSS Auto-Importer (New):</strong> Automatically fetch content from external sources. Includes duplicate detection (GUID) and image extraction logic.</li>
                <li><strong>üí¨ Popup Manager (New):</strong> Create marketing popups with specific targeting (Home vs All pages, Frequency per session, Delay).</li>
                <li><strong>üõ°Ô∏è Advanced Security (Upgraded):</strong>
                    <ul>
                        <li>Anti-CSRF Protection on all forms.</li>
                        <li>HTMLPurifier integration for content sanitization.</li>
                        <li>ReCAPTCHA v2 on Contact & Registration forms.</li>
                        <li>Secure Database logging for Contact messages.</li>
                    </ul>
                </li>
                <li><strong>üöß Maintenance Mode (New):</strong> Custom maintenance page for visitors, while Administrators can still access the live site.</li>
                <li><strong>Posts & Categories:</strong> Full management with Summernote WYSIWYG editor.</li>
                <li><strong>Comments System:</strong> Nested comments (threading), Emoji support, and badges for active users.</li>
                <li><strong>Gallery & Albums:</strong> Create portfolios easily.</li>
                <li><strong>Dashboard:</strong> Interactive stats with clickable widgets and smart filtering (Drafts, Pending comments).</li>
                <li><strong>Responsive Layout:</strong> Mobile-first design based on Bootstrap 5.</li>
            </ul>
        </section>
        
        <section id="requirements">
            <div class="page-header">
                <h3>Requirements</h3>
                <hr class="notop">
            </div>
            <ul>
                <li>PHP 7.4 or higher (8.0+ recommended)</li>
                <li>MySQLi Extension</li>
				<li>Apache Server with Mod_Rewrite enabled</li>
                <li>GD Library (for image processing)</li>
                <li>cURL enabled (for RSS Import)</li>
            </ul>
        </section>
        
        <section id="installation">
            <div class="page-header">
                <h3>Installation</h3>
                <hr class="notop">
            </div>
            <ol>
                <li>Upload all files to your server.</li>
                <li>Create a new MySQL database.</li>
                <li>Visit your website URL (e.g., <code>yourwebsite.com/install/</code>).</li>
                <li>Follow the installation wizard steps:
                    <ul>
                        <li><strong>Database Info:</strong> Enter your DB credentials.</li>
                        <li><strong>Settings:</strong> Set your <strong>Site Email</strong> (for notifications) and <strong>Admin Account</strong> details separately.</li>
                    </ul>
                </li>
                <li><strong>Important:</strong> Once installed, delete the <code>/install/</code> folder from your server for security.</li>
            </ol>
        </section>

        <section id="rss_cron">
            <div class="page-header">
                <h3>Automated RSS Import (Cron Job)</h3>
                <hr class="notop">
            </div>
            <p>To fetch RSS feeds automatically without clicking the "Import" button manually, you can set up a Cron Job on your server (cPanel/Plesk).</p>
            
            <h4>1. Security Key</h4>
            <p>Open <code>admin/run_rss_import.php</code> and find the following line:</p>
            <code>define('RSS_CRON_SECRET_KEY', '#7dWrR!W@29LxG22wW^b');</code>
            <p>You can change this key to a custom secret string for better security.</p>

            <h4>2. Cron Command</h4>
            <p>Set up a cron job to run once every hour (or as preferred) using the following command:</p>
            <code>wget -q -O - "https://YOUR-SITE.COM/admin/run_rss_import.php?key=YOUR_SECRET_KEY" >/dev/null 2>&1</code>
            <p><em>Replace <strong>YOUR-SITE.COM</strong> and <strong>YOUR_SECRET_KEY</strong> with your actual data.</em></p>
        </section>
        
        <section id="updates">
            <div class="page-header">
                <h3>Update Instructions</h3>
                <hr class="notop">
            </div>
            
            <p><b>Update to v2.9.1 (Mega Menu & Modules) =></b> Run these SQL queries in PHPMyAdmin:</p>
            <code>
            -- 1. Settings for Sticky Header & Maintenance Mode<br>
            ALTER TABLE `settings` ADD `sticky_header` varchar(10) NOT NULL DEFAULT 'Off';<br>
            ALTER TABLE `settings` ADD `maintenance_mode` varchar(10) NOT NULL DEFAULT 'Off';<br>
            ALTER TABLE `settings` ADD `maintenance_title` varchar(255) NOT NULL DEFAULT 'Site Under Maintenance';<br>
            ALTER TABLE `settings` ADD `maintenance_message` LONGTEXT NULL;<br>
            <br>
            -- 2. Table for RSS Imports<br>
            CREATE TABLE `rss_imports` (<br>
              `id` int(11) NOT NULL AUTO_INCREMENT,<br>
              `feed_url` varchar(255) NOT NULL,<br>
              `import_as_user_id` int(11) NOT NULL,<br>
              `import_as_category_id` int(11) NOT NULL,<br>
              `last_import_time` datetime DEFAULT NULL,<br>
              `is_active` int(1) NOT NULL DEFAULT 1,<br>
              PRIMARY KEY (`id`)<br>
            );<br>
            <br>
            -- 3. Table for Popups<br>
            CREATE TABLE `popups` (<br>
              `id` int(11) NOT NULL AUTO_INCREMENT,<br>
              `title` varchar(255) NOT NULL,<br>
              `content` LONGTEXT NOT NULL,<br>
              `active` varchar(3) NOT NULL DEFAULT 'No',<br>
              `display_pages` varchar(255) NOT NULL DEFAULT 'home',<br>
              `show_once_per_session` varchar(3) NOT NULL DEFAULT 'Yes',<br>
              `delay_seconds` int(3) NOT NULL DEFAULT 2,<br>
              `created_at` datetime NOT NULL DEFAULT current_timestamp(),<br>
              PRIMARY KEY (`id`)<br>
            );<br>
            <br>
            -- 4. Add GUID support for RSS deduplication<br>
            ALTER TABLE `posts` ADD `imported_guid` varchar(255) DEFAULT NULL;<br>
            ALTER TABLE `posts` ADD UNIQUE KEY `imported_guid_unique` (`imported_guid`);
            </code>
        </section>
		
		<section id="recaptcha">
            <div class="page-header">
                <h3>ReCaptcha v2 - Configuration</h3>
                <hr class="notop">
            </div>
			<p>To protect your Contact and Registration forms, get your keys here: 
			<a href="https://www.google.com/recaptcha/admin/create" target="_blank">Google ReCaptcha Admin</a></p>
			<p>Select <strong>reCAPTCHA v2</strong> -> <strong>"I‚Äôm not a robot" Checkbox</strong>.</p>
            <p>Copy the <strong>Site Key</strong> and <strong>Secret Key</strong> into your Admin Panel > Settings.</p>
			<img src="assets/img/recaptcha.png" width="70%" style="border:1px solid #ccc; border-radius:5px; margin-top:10px;" />
        </section>
        
        <section id="credits">
            <div class="page-header">
                <h3>Credits</h3>
                <hr class="notop">
            </div>
            <p>Used resources:</p>
            <ul>
                <li><strong>Bootstrap 5</strong> - Frontend Framework</li>
                <li><strong>FontAwesome 5</strong> - Icons</li>
                <li><strong>DataTables</strong> - Advanced Tables</li>
                <li><strong>SummerNote</strong> - WYSIWYG Editor</li>
                <li><strong>HTMLPurifier</strong> - Security Library</li>
                <li><strong>SimplePie / RSS</strong> - Feeds Logic</li>
            </ul>
        </section>

    </div>
</body>
</html>